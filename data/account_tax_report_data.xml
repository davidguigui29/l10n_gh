<?xml version="1.0" encoding="utf-8"?>
<odoo auto_sequence="1">
    <record id="tax_report_gh" model="account.report">
        <field name="name">Tax Report</field>
        <field name="root_report_id" ref="account.generic_tax_report"/>
        <field name="country_id" ref="base.gh"/>
        <field name="filter_fiscal_position" eval="True"/>
        <field name="availability_condition">country</field>

        <field name="column_ids">
            <record id="tax_report_gh_balance" model="account.report.column">
                <field name="name">Balance</field>
                <field name="expression_label">balance</field>
            </record>
        </field>

        <field name="line_ids">
            <!-- VAT / Levies Calculations -->
            <record id="gh_tax_report_line_vat_cal" model="account.report.line">
                <field name="name">VAT / Levies Calculations</field>
                <field name="aggregation_formula">GHTAX_1.balance - GHTAX_4.balance</field>
                <field name="hierarchy_level">0</field>

                <field name="children_ids">
                    <record id="gh_tax_report_line_box1" model="account.report.line">
                        <field name="name">[BOX 1] Output VAT / Levies (Sales)</field>
                        <field name="code">GHTAX_1</field>
                        <field name="expression_ids">
                            <record id="gh_tax_report_line_box1_tag" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">tax_tags</field>
                                <!-- Tag "1" -->
                                <field name="formula">1</field>
                            </record>
                        </field>
                    </record>

                    <record id="gh_tax_report_line_box4" model="account.report.line">
                        <field name="name">[BOX 4] Input VAT / Levies (Purchases)</field>
                        <field name="code">GHTAX_4</field>
                        <field name="expression_ids">
                            <record id="gh_tax_report_line_box4_tag" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">tax_tags</field>
                                <!-- Tag "4" -->
                                <field name="formula">4</field>
                            </record>
                        </field>
                    </record>

                    <record id="gh_tax_report_line_box5" model="account.report.line">
                        <field name="name">[BOX 5] Net VAT / Levies to Pay (or Reclaim)</field>
                        <field name="aggregation_formula">GHTAX_1.balance - GHTAX_4.balance</field>
                    </record>
                </field>
            </record>

            <!-- Sales and Purchases Excluding VAT -->
            <record id="gh_tax_report_line_exd_vat" model="account.report.line">
                <field name="name">Sales and Purchases Excluding VAT</field>
                <field name="aggregation_formula">GHTAX_6.balance + GHTAX_7.balance</field>
                <field name="hierarchy_level">0</field>

                <field name="children_ids">
                    <record id="gh_tax_report_line_box6" model="account.report.line">
                        <field name="name">[BOX 6] Total value of sales excluding VAT</field>
                        <field name="code">GHTAX_6</field>
                        <field name="expression_ids">
                            <record id="gh_tax_report_line_box6_tag" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">tax_tags</field>
                                <!-- Tag "6" -->
                                <field name="formula">6</field>
                            </record>
                        </field>
                    </record>

                    <record id="gh_tax_report_line_box7" model="account.report.line">
                        <field name="name">[BOX 7] Total value of purchases excluding VAT</field>
                        <field name="code">GHTAX_7</field>
                        <field name="expression_ids">
                            <record id="gh_tax_report_line_box7_tag" model="account.report.expression">
                                <field name="label">balance</field>
                                <field name="engine">tax_tags</field>
                                <!-- Tag "7" -->
                                <field name="formula">7</field>
                            </record>
                        </field>
                    </record>
                </field>
            </record>
        </field>
    </record>
</odoo>
